import{A as e,k as t,J as a,l as n,p as A,o as r,c as i,w as s,a as u,b as l,t as o,v as c,u as d,n as m,i as f,f as x}from"./index-45478141.js";import{q as g,s as p,_ as v}from"./home.0b29f6a1.js";const C=e("playerStore",{state:()=>({lyricInfos:[],scrollTop:0,itemHeight:0,currentLyricIndex:-1,isPlaying:!0,currentTime:0,durationTime:0,currentLyric:"",currentSong:{},sliderValue:0,playSongList:[],currentIndex:0,playModelIndex:0,playModeName:"order"}),actions:{async fetchCurrentSong(e){},async fetchCurrentSongLyric(e){}}});async function y(e,n){var A,r,i;const s=t().globalData.audioContext,u=C();if(u.currentSong.id===e.id)return;const{id:l}=e,o=await g(l),c=(null==(A=null==o?void 0:o.data[0])?void 0:A.url)||`https://music.163.com/song/media/outer/url?id=${l}.mp3`;null==(r=null==o?void 0:o.data[0])||r.url,(n||0===n)&&(u.currentIndex=+n),s.src=c,u.currentSong=e;const d=await p(l);u.lyricInfos=function(e){const t=/\[(\d{2}):(\d{2})\.(\d{2,})\]/;let a=e.split("\n");const n=[];for(const A of a){const e=t.exec(A);if(!e)continue;const a=60*e[1]*1e3+1e3*e[2]+(2===e[3].length?10*e[3]:1*e[3]),r=A.replace(t,"");n.push({time:a,lyric:r})}return n}(d.lrc.lyric);const m=null==(i=null==o?void 0:o.data[0])?void 0:i.time;if(m){if(!(m/1e3<=31))return;a({title:"会员歌曲(试听)",icon:"error"})}}const h=v({__name:"music-list-item",props:{index:{type:Number},itemData:{type:Object,default:{}},isNavigate:{type:Boolean,default:!0}},emits:["itemClick","currentIndex"],setup(e,{emit:t}){const a=e,g=C(),{currentSong:p}=n(g),v=A((()=>p.value.id===a.itemData.id));A((()=>{let e;return p.id===a.itemData.id&&(e=a.index),e}));const h=()=>{a.isNavigate?m({url:`/pages/music-player/music-player?id=${a.itemData.id}&currentIndex=${a.index}`}):y(a.itemData,a.index),t("itemClick",a.index)};return(t,a)=>{const n=f,A=x;return r(),i(n,{class:c("song "+(d(v)?"listening":"")),onClick:h,"hover-class":"active"},{default:s((()=>[u(n,{class:"index"},{default:s((()=>[l(o(e.index+1),1)])),_:1}),u(n,{class:"song-info"},{default:s((()=>[u(n,{class:"name"},{default:s((()=>{var t;return[l(o(null==(t=e.itemData)?void 0:t.name),1)]})),_:1}),u(n,{class:"tag"},{default:s((()=>[u(A,{src:"data:image/png;base64,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",mode:"widthFix"}),l(" "+o(e.itemData.ar[0].name)+" · "+o(e.itemData.al.name),1)])),_:1})])),_:1})])),_:1},8,["class"])}}},[["__scopeId","data-v-2969ea39"]]);export{h as _,y as a,C as u};
