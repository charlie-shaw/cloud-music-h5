import{o as a,c as s,w as t,a as e,b as i,t as o,u as d,n as c,f as l,i as n,y as r,j as m,s as u,g as v,h as _,F as f,z as p,A as h,r as D}from"./index-442b9388.js";import{_ as y,a as M,c as g,g as j,o as x,r as L}from"./home.f5708a13.js";const b=y({__name:"video-item",props:{itemData:{type:Object,default:{}}},setup(r){const m=r,u=()=>{c({url:`/pages/video-detail/video-detail?id=${m.itemData.id}`})};return(c,m)=>{const v=l,_=n;return a(),s(_,{class:"video-item",onClick:u},{default:t((()=>[e(_,{class:"cover-box"},{default:t((()=>[e(v,{class:"image",src:r.itemData.cover,mode:"widthFix"},null,8,["src"]),e(_,{class:"info"},{default:t((()=>[e(_,{class:"count"},{default:t((()=>[i(o(d(M)(r.itemData.playCount)),1)])),_:1}),e(_,{class:"duration"},{default:t((()=>[i(o(d(g)(r.itemData.mv.videos[0].duration)),1)])),_:1})])),_:1})])),_:1}),e(_,{class:"description"},{default:t((()=>[i(o(r.itemData.name),1)])),_:1})])),_:1})}}},[["__scopeId","data-v-c200e36d"]]),w=r("mvStore",{state:()=>({mvList:[],videoList:[],hasMore:!1}),actions:{async fetchTopMv(){const a=await j();this.videoList=a.data,this.hasMore=a.hasMore}}}),k=y({__name:"video",setup(o){const c=w(),{videoList:l}=m(c);x((()=>{c.fetchTopMv()}));const r=u(!0);return u(0),(o,c)=>{const m=L(D("video-item"),b),u=n;return a(),s(u,{class:"video-list"},{default:t((()=>[(a(!0),v(f,null,_(d(l),(t=>(a(),s(m,{key:t.id,class:"item",itemData:t},null,8,["itemData"])))),128)),p(e(u,{class:"not_more"},{default:t((()=>[i("没有更多了")])),_:1},512),[[h,r.value]])])),_:1})}}},[["__scopeId","data-v-6280f31d"]]);export{k as default};
