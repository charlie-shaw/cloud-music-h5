import{o as a,c as s,w as t,a as e,b as i,t as o,u as d,n as c,f as l,i as n,A as r,l as m,j as u,g as v,h as _,F as f,d as p,r as h}from"./index-45478141.js";import{_ as D,a as y,c as M,g,o as j,r as x}from"./home.0b29f6a1.js";const L=D({__name:"video-item",props:{itemData:{type:Object,default:{}}},setup(r){const m=r,u=()=>{c({url:`/pages/video-detail/video-detail?id=${m.itemData.id}`})};return(c,m)=>{const v=l,_=n;return a(),s(_,{class:"video-item",onClick:u},{default:t((()=>[e(_,{class:"cover-box"},{default:t((()=>[e(v,{class:"image",src:r.itemData.cover,mode:"widthFix"},null,8,["src"]),e(_,{class:"info"},{default:t((()=>[e(_,{class:"count"},{default:t((()=>[i(o(d(y)(r.itemData.playCount)),1)])),_:1}),e(_,{class:"duration"},{default:t((()=>[i(o(d(M)(r.itemData.mv.videos[0].duration)),1)])),_:1})])),_:1})])),_:1}),e(_,{class:"description"},{default:t((()=>[i(o(r.itemData.name),1)])),_:1})])),_:1})}}},[["__scopeId","data-v-c200e36d"]]),b=r("mvStore",{state:()=>({mvList:[],videoList:[],hasMore:!1}),actions:{async fetchTopMv(){const a=await g();this.videoList=a.data,this.hasMore=a.hasMore}}}),k=D({__name:"video",setup(e){const o=b(),{videoList:c}=m(o);j((()=>{o.fetchTopMv()}));const l=u(!0);return u(0),(e,o)=>{const r=x(h("video-item"),L),m=n;return a(),s(m,{class:"video-list"},{default:t((()=>[(a(!0),v(f,null,_(d(c),(t=>(a(),s(r,{key:t.id,class:"item",itemData:t},null,8,["itemData"])))),128)),l.value?(a(),s(m,{key:0,class:"not_more"},{default:t((()=>[i("没有更多了")])),_:1})):p("",!0)])),_:1})}}},[["__scopeId","data-v-273f4cd2"]]);export{k as default};
